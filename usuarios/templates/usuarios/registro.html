{% comment %}
    Este archivo HTML define la plantilla para la página de 
    registro de usuario.
    Los usuarios que deseen registrarse serán dirigidos a esta página
{% endcomment %}
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card p-4 shadow">
                    <h2 class="mb-4 text-center">Registro de Usuario</h2>
                    <form id="registroForm" method="post">
                        {% csrf_token %}   <!-- Se incluye el token {% csrf_token %} para la protección contra ataques CSRF. -->
                        <div class="mb-3">
                            <label for="username" class="form-label">Nombre de usuario:</label>
                            <input type="text" id="username" name="username" class="form-control" required>     <!-- Se añade el atributo required para que el campo sea obligatorio -->
                            <div id="username-error" class="invalid-feedback"></div>    <!-- Se añade un div para mostrar mensajes de error -->
                            <div id="username-suggestion" class="mt-2"></div>   <!-- Se añade un div para mostrar sugerencias de nombres de usuario -->
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Contraseña:</label>
                            <input type="password" id="password" name="password" class="form-control" required>
                            <div id="password-error" class="invalid-feedback"></div>   <!-- Se añade un div para mostrar mensajes de error -->
                        </div>
                        <div class="mb-3">
                            <label for="password2" class="form-label">Confirmar Contraseña:</label>
                            <input type="password" id="password2" name="password2" class="form-control" required>
                            <div id="password2-error" class="invalid-feedback"></div>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Correo electrónico:</label>
                            <input type="email" id="email" name="email" class="form-control" required>
                            <div id="email-error" class="invalid-feedback"></div>
                        </div>
                        <div class="mb-3">
                            <label for="email2" class="form-label">Confirmar Correo electrónico:</label>
                            <input type="email" id="email2" name="email2" class="form-control" required>
                            <div id="email2-error" class="invalid-feedback"></div>
                        </div>
                        <div class="mb-3">
                            <button type="submit" class="btn btn-primary">Registrar</button>
                            <div id="general-message" class="mt-2"></div>
                            <div id="general-error" class="mt-2"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="mensajeModal" tabindex="-1" aria-labelledby="mensajeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="mensajeModalLabel">Mensaje</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="mensajeModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'js/registro.js' %}"></script>  <!-- Se incluye el archivo de scripts personalizado registro.js --> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
